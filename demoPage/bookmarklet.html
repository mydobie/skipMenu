<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <link href="dist/css/skipMenu-full.css" rel="stylesheet" />
    <style>
      *:focus {
        box-shadow: 0 0 5px #f0f;
      }
      #header {
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        z-index: 100;
        width: 100%;
      }
      .nav {
        padding-left: 20px;
      }
      .nav-link {
        color: #000;
      }
      .nav-link.active {
        color: rgb(0, 102, 204);
        border-bottom: 3px solid rgb(0, 102, 204);
      }
      a img {
        height: 30px;
      }
    </style>

    <title>SkipMenu Bookmarklet</title>
  </head>
  <body>
    <header class="card text-white bg-dark" id="header">
      <div class="card-body">
        <h1 class="h5">SkipMenu Bookmarklet</h1>
      </div>
    </header>
    <nav class="nav mb-3">
      <a class="nav-link" href="index.html">Bootstrap/Default</a>
      <a class="nav-link" href="index-patternfly.html">Patternfly</a>
      <a class="nav-link active" href="bookmarklet.html" aria-current="page"
        >Bookmarklet</a
      >
      <span class="version"
        ><a class="nav-link" href="#">Download <span></span></a
      ></span>
      <a class="nav-link" href="https://github.com/mydobie/skipMenu">GitHub</a>
    </nav>
    <main class="container" id="main">
      <h2>About</h2>

      <p>
        A bookmarklet allows to add the SkipMenu on any web pages. It is saved
        like a bookmark and the SkipMenu code is applied in your browser when
        you activate the bookmark.
      </p>

      <h2>Bookmarklet</h2>

      <p>
        <a id="bookmarkletLinkAuto" href="" class="btn btn-success version"
          ><img src="noun-bookmark-4803860-FFFFFF.svg" alt="" />SkipMenu
          <span></span
        ></a>
      </p>

      <h3>How to add to your browser</h3>
      <ul>
        <li>Open the bookmark toolbar in your browser</li>
        <li>Drag the SkipMenu button above onto the bookmark toolbar</li>
        <li>Go to another webpage</li>
        <li>Click on the SkipMenu bookmark in your bookmark toolbar</li>
        <li>Look for the SkipMenu at the top of the webpage</li>
      </ul>

      <p>
        This will open the SkipMenu with the default settings and stylings.
        There may be conflicts withe site's styles causing styling issues. In
        addition, there may be issues if the page content is loaded with
        scrolling.
      </p>
      <h3>Bookmarklets for testing</h3>
      <p>
        The following bookmarklets are used for testing purposes. If you want a
        bookmarket that will work on most pages, choose the bookmarklet above.
      </p>
      <p>
        <a
          id="bookmarkletLinkBootstrap"
          href=""
          class="btn btn-secondary version"
          ><img src="noun-bookmark-4803860-FFFFFF.svg" alt="" />SkipMenu
          Bootstrap <span></span
        ></a>
      </p>

      <p>
        <a
          id="bookmarkletLinkPatternFly"
          href=""
          class="btn btn-secondary version"
          ><img src="noun-bookmark-4803860-FFFFFF.svg" alt="" />SkipMenu
          PatternFly <span></span
        ></a>
      </p>
      <p>
        <a id="bookmarkletLink" href="" class="btn btn-secondary version"
          ><img src="noun-bookmark-4803860-FFFFFF.svg" alt="" />SkipMenu No
          Update <span></span
        ></a>
      </p>
    </main>
    <footer class="card text-white bg-secondary mb-3">
      <div class="card-body">SkipMenu by Kim Doberstein</div>
    </footer>

    <script src="dist/js/skipMenu.js"></script>
    <script src="demo.js"></script>
    <script>
      const hideIfFail = true;
      // const hideIfFail = false;

      setBookmarklet(
        'bookmarkletLinkAuto',
        './dist/js/bookmarkletAuto.js',
        hideIfFail
      );
      setBookmarklet(
        'bookmarkletLinkBootstrap',
        './dist/js/bookmarkletBootstrap.js',
        hideIfFail
      );
      setBookmarklet(
        'bookmarkletLinkPatternFly',
        './dist/js/bookmarkletPatternfly.js',
        hideIfFail
      );

      setBookmarklet('bookmarkletLink', './dist/js/bookmarklet.js', hideIfFail);
      // fetch('./dist/js/bookmarklet.js', { method: 'GET' })
      //   .then((response) => response.text())
      //   .then((data) => {
      //     document.querySelector('#bookmarkletLink').setAttribute('href', data);
      //   })
      //   .catch((error) => {
      //     if (hideIfFail)
      //       document.querySelector('#bookmarkletLink').style.display = 'none';
      //   });

      // fetch('./dist/js/bookmarkletBootstrap.js', { method: 'GET' })
      //   .then((response) => response.text())
      //   .then((data) => {
      //     document
      //       .querySelector('#bookmarkletLinkAuto')
      //       .setAttribute('href', data);
      //   })
      //   .catch((error) => {
      //     if (hideIfFail)
      //       document.querySelector('#bookmarkletLinkAuto').style.display =
      //         'none';
      //   });

      // fetch('./dist/js/bookmarkletAuto.js', { method: 'GET' })
      //   .then((response) => response.text())
      //   .then((data) => {
      //     document
      //       .querySelector('#bookmarkletLinkBootstrap')
      //       .setAttribute('href', data);
      //   })
      //   .catch((error) => {
      //     if (hideIfFail)
      //       document.querySelector('#bookmarkletLinkBootstrap').style.display =
      //         'none';
      //   });
    </script>
  </body>
</html>
