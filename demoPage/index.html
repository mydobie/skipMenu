<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <link href="dist/css/skipMenu-full.css" rel="stylesheet" />
    <style>
      *:focus {
        box-shadow: 0 0 5px #f0f;
      }
      #header {
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        z-index: 100;
        width: 100%;
      }
      #header .h5 {
        padding-top: 1.25rem;
      }
      .code-block {
        margin-bottom: 15px;
      }
      code {
        color: inherit;
      }
    </style>

    <title>SkipMenu</title>
  </head>
  <body>
    <header class="card text-white bg-dark mb-3" id="header">
      <div class="card-body">
        <h1 class="h5">SkipMenu Demo Page</h1>
      </div>
    </header>
    <main class="container" id="main">
      <h2>About</h2>

      <p>
        <a
          href="https://github.com/mydobie/skipMenu"
          class="btn btn-outline-secondary"
          ><img src="GitHub-Mark-32px.png" alt="" /> View me on GitHub!</a
        >
      </p>
      <div class="alert alert-primary" id="version">
        <a href="" class="alert-link">Download version <span></span></a>
      </div>
      <p>
        SkipMenu is a drop-down menu containing links to major places on your
        web page. While helping all users, it is especially helpful to users
        using a keyboard to navigate the web. Use it as a replacement for
        traditional 'skip to content' links.
      </p>

      <p>
        Just add SkipMenu's Javascript and CSS files to your webpage. It
        automatically detects and adds links to all the headings and landmarks
        on your webpage. Webpage content changes? - no problem. Automatically
        update the menu by calling the `update` method or use the experimental
        config setting to automatically detect DOM changes.
      </p>

      <h2>How do I add it to my webpage?</h2>
      <p>
        The first step is to download the files from the
        <a href="https://github.com/mydobie/skipMenu/releases"
          >GitHub releases</a
        >
        page or use the downlink above.
      </p>

      <p>Then add the following to the head section of your HTML file:</p>
      <div class="card bg-light code-block">
        <div class="card-body">
          <code>
            &lt;link rel="stylesheet" href="/path-to/skipMenu-full.css" /&gt;<br />
            &lt;script src="/path-to/skipMenu.js"&gt; &lt;/script&gt;
          </code>
        </div>
      </div>

      <p>
        The next step is to add the skipMenu to your webpage. Put the following
        at the bottom of the <code>body</code> tag or call it after the DOM is
        ready.
      </p>

      <div class="card bg-light code-block">
        <div class="card-body">
          <code>
            &lt;script &gt; <br />
            &nbsp; &nbsp;const skipMenu = new SkipMenu({ useAccessKey: true,
            attachTo: document.querySelector('header'), }); <br />
            &nbsp; &nbsp; skipMenu.init(); <br />
            &lt;/script&gt;
          </code>
        </div>
      </div>

      <h3>Configuration</h3>
      <p>
        There are numerous configuration settings that support
        internationalization, determining what headings and landmarks are added
        to the menu along with many others. See the
        <a id="readMeURL">GitHub repo</a>
        for more configuration options.
      </p>

      <h2>Try it out</h2>

      <ol>
        <li>
          Tab to the "Skip to content" button and use either the space or
          enter/return key to open the menu
        </li>
        <li>Use the up and arrow keys to choose an item</li>
        <li>
          Use either the enter/return or space key to go to that item, or the
          tab key to close the menu.
        </li>
      </ol>

      <p>
        You can update the menu any time by calling the
        <code>update()</code> method. Try clicking the button below and notice
        that the newly added header is added to the menu.
      </p>
      <div id="newHeader"></div>
      <p>
        <button type="button" class="btn btn-primary" id="newHeaderButton">
          Add a new header
        </button>
        <button
          type="button"
          class="btn btn-primary"
          id="removeHeaderButton"
          style="display: none"
        >
          Clear new header
        </button>
      </p>
      <p>Example code when calling the update method:</p>

      <div class="card bg-light code-block">
        <div class="card-body">
          <code>
            document<br />
            &nbsp; &nbsp;.getElementById('newHeaderButton')<br />
            &nbsp; &nbsp;.addEventListener('click', () => {<br />
            &nbsp; &nbsp;&nbsp;
            &nbsp;document.getElementById('newHeader').innerHTML = '&lt;h2&gt;My
            new header&lt;/h2&gt;';<br />
            &nbsp; &nbsp;&nbsp; &nbsp;skipMenu.update();<br />
            &nbsp; &nbsp;});
          </code>
        </div>
      </div>

      <h3>Styling</h3>
      <p>
        SkipMenu uses standard Bootstrap classes, so it can be easily
        incorporated into a site that is already using Bootstrap. Otherwise,
        stylings can be easily over written by using the data attribute attached
        to the skipMenu wrapper. For example, the following code would move the
        button to the left part of the screen and turn the button purple.
      </p>
      <div class="card bg-light code-block">
        <div class="card-body">
          <code>
            &lt;style&gt;<br />
            &nbsp; &nbsp;[data-skip-menu] {<br />
            &nbsp; &nbsp;&nbsp; &nbsp;left: 20px;<br />
            &nbsp; &nbsp;&nbsp; &nbsp;transform: none;<br />
            &nbsp; &nbsp; }<br />
            &nbsp; &nbsp; [data-skip-menu] button {<br />
            &nbsp; &nbsp;&nbsp; &nbsp; background-color: rgb(133, 4, 133);<br />
            &nbsp; &nbsp; }<br />
            &lt;/style&gt;
          </code>
        </div>
      </div>
    </main>
    <footer class="card text-white bg-secondary mb-3">
      <div class="card-body">SkipMenu by Kim Doberstein</div>
    </footer>

    <script src="dist/js/skipMenu.js"></script>
    <script>
      const skipMenu = new SkipMenu({
        useAccessKey: true,
        attachTo: document.querySelector('header'),
      });
      skipMenu.init();

      // Add version
      const version = SkipMenu.version;
      if (version) {
        document.querySelector('#version span').innerHTML = version;
        document
          .querySelector('#version a')
          .setAttribute(
            'href',
            `https://github.com/mydobie/skipMenu/releases/download/${version}/skipMenu-${
              version.split('v')[1]
            }.tgz`
          );
      }

      document
        .getElementById('readMeURL')
        .setAttribute(
          'href',
          `https://github.com/mydobie/skipMenu/blob/${version}/README.md#options`
        );

      // Add new header
      document
        .getElementById('newHeaderButton')
        .addEventListener('click', () => {
          document.getElementById('newHeader').innerHTML =
            '<h2 class="h5">My new header</h2>';
          document.getElementById('newHeaderButton').style.display = 'none';
          document.getElementById('removeHeaderButton').style.display = 'block';
          skipMenu.update();
          // There is a known issue where update is a fraction of a second to
          // complete building menu
          setTimeout(() => {
            skipMenu.open();
          }, 10);
        });

      document
        .getElementById('removeHeaderButton')
        .addEventListener('click', () => {
          document.getElementById('newHeader').innerHTML = '';
          document.getElementById('newHeaderButton').style.display = 'block';
          document.getElementById('removeHeaderButton').style.display = 'none';
          skipMenu.update();
        });
    </script>
  </body>
</html>
