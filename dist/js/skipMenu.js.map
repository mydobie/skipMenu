{"version":3,"file":"js/skipMenu.js","mappings":"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","sources":["webpack://skipMenu/./js/utilities.ts","webpack://skipMenu/./js/button.ts","webpack://skipMenu/./js/menuSection.ts","webpack://skipMenu/./js/menu.ts","webpack://skipMenu/./js/skipMenuTypes.ts","webpack://skipMenu/./js/skipMenu.ts","webpack://skipMenu/./js/eventListeners.ts"],"sourcesContent":["export const isElementVisible = (el: HTMLElement): boolean => {\n  if (el.nodeType === 9 || el.parentElement === null) {\n    return true;\n  } // is at document level\n  const computedStyle = window.getComputedStyle(el);\n  const display = computedStyle.getPropertyValue('display');\n  const visibility = computedStyle.getPropertyValue('visibility');\n  const width = computedStyle.getPropertyValue('width');\n  const height = computedStyle.getPropertyValue('height');\n  const hidden = el.getAttribute('hidden');\n\n  if (\n    display === 'none' ||\n    visibility === 'hidden' ||\n    hidden !== null ||\n    width === '0px' ||\n    height === '0px'\n  ) {\n    return false;\n  }\n\n  return isElementVisible(el.parentNode as HTMLElement);\n};\n\nexport const focusNextElement = (menuButtonId = 'skipMenu_button'): void => {\n  const canHaveFocus =\n    'a:not([disabled]), button:not([disabled]), input:not([disabled]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])';\n\n  const focusableElements = document.querySelectorAll(canHaveFocus);\n  const buttonIndex = Array.from(focusableElements).findIndex((el) =>\n    el.isEqualNode(document.getElementById(menuButtonId))\n  );\n  const buttonTabIndex = document.getElementById(menuButtonId)?.tabIndex || 0;\n\n  let nextElement;\n  if (buttonTabIndex === 0) {\n    for (\n      let i = buttonIndex + 1;\n      i < focusableElements.length && !nextElement;\n      i++\n    ) {\n      if (\n        isElementVisible(focusableElements[i] as HTMLElement) &&\n        (focusableElements[i] as HTMLElement).tabIndex === 0\n      ) {\n        nextElement = focusableElements[i];\n      }\n    }\n  } else {\n    for (\n      let i = buttonIndex + 1;\n      i < focusableElements.length && !nextElement;\n      i++\n    ) {\n      if (\n        isElementVisible(focusableElements[i] as HTMLElement) &&\n        (focusableElements[i] as HTMLElement).tabIndex >= buttonTabIndex\n      ) {\n        nextElement = focusableElements[i];\n      }\n    }\n    for (let i = 0; i < buttonIndex && !nextElement; i++) {\n      if (\n        isElementVisible(focusableElements[i] as HTMLElement) &&\n        (focusableElements[i] as HTMLElement).tabIndex === 0\n      ) {\n        nextElement = focusableElements[i];\n      }\n    }\n  }\n\n  if (nextElement) {\n    (nextElement as HTMLElement).focus();\n  } else {\n    document.getElementById(menuButtonId)?.focus();\n  }\n};\n\nexport const isTouchEnabled = () =>\n  'ontouchstart' in window ||\n  navigator.maxTouchPoints > 0 ||\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  navigator.msMaxTouchPoints > 0;\n\nexport const isFocusable = (element: HTMLElement): boolean => {\n  if (\n    element.getAttribute('href') !== null ||\n    (element.hasAttribute('contentEditable') &&\n      element.getAttribute('contentEditable')?.toLowerCase() !== 'false') ||\n    element.getAttribute('tabindex') !== null\n  ) {\n    return true;\n  }\n\n  const tag = element.tagName.toLowerCase();\n  return ['button', 'details', 'input', 'iframe', 'select', 'textarea'].some(\n    (t) => t === tag\n  );\n};\n","import { SkipMenuConfigFull } from './skipMenu';\nimport { isTouchEnabled } from './utilities';\n\nexport const openMenu = (config: SkipMenuConfigFull, lastItem = false) => {\n  const menu = document.getElementById(config.menuContainerId);\n  if (menu) {\n    const button = document.getElementById(config.buttonId);\n    menu.style.display = 'block';\n    button?.setAttribute('aria-expanded', 'true');\n\n    const items = menu.querySelectorAll('[role=\"menuitem\"]');\n    if (lastItem) {\n      (items[items.length - 1] as HTMLElement).focus();\n    } else {\n      (items[0] as HTMLElement).focus();\n    }\n  }\n};\n\nexport const closeMenu = (\n  config: SkipMenuConfigFull,\n  keepVisibleOnClose = false\n) => {\n  const menu = document.getElementById(config.menuContainerId);\n  if (menu) {\n    const button = document.getElementById(config.buttonId);\n    button?.removeAttribute('aria-expanded');\n    menu.style.display = 'none';\n    if (!keepVisibleOnClose && !config.alwaysShow) {\n      document.getElementById(config.id)?.classList.add('skipMenu-hidden');\n    }\n    button?.focus();\n  }\n};\n\nexport const toggleMenu = (\n  config: SkipMenuConfigFull,\n  keepVisibleOnClose = false\n) => {\n  const menu = document.getElementById(config.menuContainerId);\n  if (menu) {\n    const isCurrentlyExpanded = menu.style.display !== 'none';\n    if (isCurrentlyExpanded) {\n      closeMenu(config, keepVisibleOnClose);\n    } else {\n      openMenu(config);\n    }\n  }\n};\n\nconst toolTipText = (accessKey: string, startText: string): string | null => {\n  if (isTouchEnabled()) {\n    return null;\n  }\n\n  const userAgent = window.navigator.userAgent.toLowerCase();\n  // See https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey\n  const isMac = /(macintosh|macintel|macppc|mac68k|macos)/.test(userAgent);\n  const isOpera = /(opera|opr)/.test(userAgent);\n  const fireFox = /(firefox)/.test(userAgent);\n\n  let text = startText;\n  if (isMac && isOpera) {\n    text += 'Control + Alt';\n  } else if (isMac) {\n    text += 'Control + Option';\n  } else if (fireFox) {\n    text += 'Alt + Shift';\n  } else {\n    text += 'Alt';\n  }\n\n  text += ' + ' + accessKey;\n\n  return text;\n};\n\nconst toolTip = (config: SkipMenuConfigFull): HTMLElement | null => {\n  const toolTipTextString = toolTipText(\n    config.accessKey,\n    config.text.tooltipLabel\n  );\n  if (!toolTipTextString) {\n    return null;\n  }\n  const tooltip = document.createElement('div');\n  tooltip.id = config.tooltipId;\n  tooltip.classList.add(\n    'tooltip',\n    'bs-tooltip-bottom',\n    'pf-c-tooltip',\n    'pf-m-bottom'\n  );\n  tooltip.setAttribute('role', 'tooltip');\n  const tooltipArrow = document.createElement('div');\n  tooltipArrow.classList.add('tooltip-arrow', 'pf-c-tooltip__arrow');\n  tooltip.appendChild(tooltipArrow);\n  const tooltipInner = document.createElement('div');\n  tooltipInner.classList.add('tooltip-inner', 'pf-c-tooltip__content');\n  tooltipInner.textContent = toolTipText(\n    config.accessKey,\n    config.text.tooltipLabel\n  );\n  tooltip.appendChild(tooltipInner);\n  return tooltip;\n};\n\nexport const createskipMenuButton = (config: SkipMenuConfigFull) => {\n  const buttonWrapper = document.createDocumentFragment();\n  const skipMenuButton = document.createElement('button');\n  skipMenuButton.setAttribute('aria-haspopup', 'true');\n\n  skipMenuButton.removeAttribute('aria-expanded');\n  skipMenuButton.setAttribute('aria-controls', config.menuContainerId);\n  skipMenuButton.classList.add(\n    'btn',\n    'btn-secondary',\n    'dropdown-toggle',\n    'pf-c-button',\n    'pf-m-tertiary'\n  );\n  skipMenuButton.id = config.buttonId;\n  skipMenuButton.textContent = config.text.buttonLabel;\n\n  const pfDropdownArrow = document.createElement('span');\n  pfDropdownArrow.classList.add('pf-c-dropdown__toggle-icon');\n  skipMenuButton.appendChild(pfDropdownArrow);\n  if (config.tabIndex) {\n    skipMenuButton.tabIndex = config.tabIndex;\n  }\n\n  skipMenuButton.addEventListener('click', (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    toggleMenu(config, true);\n  });\n\n  skipMenuButton.addEventListener('keydown', (e: KeyboardEvent) => {\n    if (e.key == 'ArrowDown' || e.key == 'ArrowUp') {\n      e.stopPropagation();\n      e.preventDefault();\n      if (e.key == 'ArrowDown') {\n        openMenu(config);\n      } else {\n        openMenu(config, true);\n      }\n    }\n  });\n\n  if (!config.alwaysShow) {\n    skipMenuButton.addEventListener('focus', () => {\n      document.getElementById(config.id)?.classList.remove('skipMenu-hidden');\n    });\n\n    skipMenuButton.addEventListener('blur', () => {\n      if (!skipMenuButton.hasAttribute('aria-expanded')) {\n        document.getElementById(config.id)?.classList.add('skipMenu-hidden');\n      }\n    });\n  }\n\n  buttonWrapper.appendChild(skipMenuButton);\n\n  if (config.useAccessKey) {\n    const skipMenuToolTip = toolTip(config);\n    if (skipMenuToolTip) {\n      skipMenuButton.addEventListener('focus', () => {\n        if (!skipMenuButton.hasAttribute('aria-expanded')) {\n          skipMenuToolTip.style.display = 'block';\n        }\n      });\n      skipMenuButton.addEventListener('blur', () => {\n        skipMenuToolTip.style.display = 'none';\n      });\n      skipMenuButton.addEventListener('mouseover', () => {\n        if (!skipMenuButton.hasAttribute('aria-expanded')) {\n          skipMenuToolTip.style.display = 'block';\n        }\n      });\n      skipMenuButton.addEventListener('mouseout', () => {\n        skipMenuToolTip.style.display = 'none';\n      });\n\n      buttonWrapper.appendChild(skipMenuToolTip);\n      skipMenuButton.setAttribute('accesskey', config.accessKey);\n    }\n  }\n  return buttonWrapper;\n};\n\n/* ************************************************** */\n","import { isElementVisible, focusNextElement, isFocusable } from './utilities';\nimport { closeMenu } from './button';\nimport { SkipMenuConfigFull } from './skipMenu';\n\n/* ********************************** */\n\nconst addMenuItemEvents = (\n  listItem: HTMLDivElement,\n  targetElement: HTMLElement,\n  config: SkipMenuConfigFull\n) => {\n  const buttonId = config.buttonId;\n  listItem.addEventListener('click', (event) => {\n    closeMenu(config);\n    (targetElement as HTMLElement).focus();\n    event.stopPropagation();\n    event.preventDefault();\n  });\n\n  listItem.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      closeMenu(config);\n      (targetElement as HTMLElement).focus();\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.key === 'Tab') {\n      closeMenu(config);\n      if (e.shiftKey) {\n        document.getElementById(buttonId)?.focus();\n      } else {\n        focusNextElement(buttonId);\n      }\n    }\n  });\n  return listItem;\n};\n\n// *****************************************************************************\n\nconst landMarkType = (element: HTMLElement, config: SkipMenuConfigFull) => {\n  const tag = element.tagName;\n  const role = element.getAttribute('role');\n\n  switch (role) {\n    case 'main':\n      return config.text.mainLabel;\n    case 'search':\n      return config.text.searchLabel;\n    case 'navigation':\n      return config.text.navigationLabel;\n    case 'region':\n      return config.text.regionLabel;\n    case 'complementary':\n      return config.text.complementaryLabel;\n    case 'banner':\n      return config.text.bannerLabel;\n    case 'contentinfo':\n      return config.text.footerLabel;\n  }\n  switch (tag.toLowerCase()) {\n    case 'main':\n      return config.text.mainLabel;\n    case 'nav':\n      return config.text.navigationLabel;\n    case 'section':\n      return config.text.sectionLabel;\n    case 'form':\n      return config.text.formLabel;\n    case 'aside':\n      return config.text.complementaryLabel;\n    case 'header':\n      return config.text.bannerLabel;\n    case 'footer':\n      return config.text.footerLabel;\n  }\n  return null;\n};\n\nconst getMenuItemText = (\n  element: HTMLElement,\n  isHeader: boolean,\n  config: SkipMenuConfigFull\n) => {\n  const landmark = landMarkType(element, config);\n  let text: string | null = '';\n  if (element.hasAttribute('aria-label')) {\n    text = element.getAttribute('aria-label');\n  } else if (element.hasAttribute('aria-labelledby')) {\n    const elementId = element.getAttribute('aria-labelledby') || '';\n    text = document.getElementById(elementId)?.innerText.trim() || '';\n  } else if (element.hasAttribute('title')) {\n    text = element.getAttribute('title');\n  }\n\n  if (landmark) {\n    return text ? `${landmark}: ${text}` : landmark;\n  } else if (isHeader) {\n    const headerText = text || element.innerText;\n    return headerText?.trim();\n  } else {\n    // unsure what this is, return tagname\n    return element.tagName.toLocaleLowerCase();\n  }\n};\n\n// *****************************************************************************\n\nconst buildMenuItem = (\n  element: HTMLElement,\n  depth: number,\n  config: SkipMenuConfigFull\n) => {\n  let listItem = document.createElement('div');\n  const listItemText = getMenuItemText(element, !!depth, config);\n\n  if (\n    !listItemText ||\n    listItemText === '' ||\n    element.classList.contains(config.ignoreClass)\n  ) {\n    return null;\n  }\n\n  const span = document.createElement('span');\n  span.classList.add('pf-c-menu__item');\n\n  if (depth) {\n    listItem.className = `skipMenu-menu-header-level-${depth}`;\n    const depthWrapper = document.createElement('span');\n    depthWrapper.classList.add('menu__item-depth');\n\n    const depthText = document.createTextNode(`${depth}`);\n    depthWrapper.appendChild(depthText);\n    span.appendChild(depthWrapper);\n    span.appendChild(document.createTextNode(') '));\n  }\n\n  const text = document.createTextNode(listItemText);\n  const textWrapper = document.createElement('span');\n  textWrapper.classList.add('menu__item-text');\n  textWrapper.appendChild(text);\n\n  span.appendChild(textWrapper);\n  listItem.appendChild(span);\n  listItem.setAttribute('role', 'menuitem');\n  listItem.classList.add('dropdown-item', 'pf-c-menu__list-item');\n  listItem.setAttribute('tabindex', '-1');\n\n  listItem = addMenuItemEvents(listItem, element, config);\n\n  return listItem;\n};\n\n/* ********************************** */\n\nexport const buildMenuSection = (\n  elements: NodeListOf<Element>,\n  sectionTitle: string,\n  sectionId: string,\n  config: SkipMenuConfigFull\n) => {\n  if (elements.length === 0) {\n    return null;\n  }\n  const container = document.createElement('div');\n  container.setAttribute('role', 'group');\n  container.classList.add('pf-c-menu__list');\n  container.id = sectionId;\n  container.setAttribute('aria-labelledby', `${sectionId}-title`);\n  const containerTitle = document.createElement('div');\n  containerTitle.setAttribute('role', 'separator');\n  containerTitle.id = `${sectionId}-title`;\n  containerTitle.appendChild(document.createTextNode(sectionTitle));\n  container.appendChild(containerTitle);\n\n  elements.forEach((element) => {\n    if (isElementVisible(element as HTMLElement)) {\n      let depth = parseInt(element.tagName.substring(1));\n      if (element.getAttribute('aria-level')) {\n        depth = parseInt(element.getAttribute('aria-level') || '');\n      }\n\n      if (!isFocusable(element as HTMLElement)) {\n        (element as HTMLElement).tabIndex = -1;\n      }\n      const menuItem = buildMenuItem(element as HTMLElement, depth, config);\n      if (menuItem) {\n        container.appendChild(menuItem);\n      }\n    }\n  });\n  return container;\n};\n","import { SkipMenuConfigFull } from './skipMenu';\nimport { buildMenuSection } from './menuSection';\nimport { closeMenu } from './button';\n\nconst matchSection = (\n  key: string,\n  menuItems: NodeListOf<Element>,\n  startIndex: number,\n  endIndex: number\n) => {\n  let newIndex: number | undefined;\n  const firstLetterRegExp = /^([0-9]\\) )?\\s*([\\S])/;\n  const firstNumberRegExp = /^([0-9])?/;\n  menuItems.forEach((item, i) => {\n    let firstChar;\n    if (parseInt(key)) {\n      const matches = (item as HTMLElement).innerText?.match(firstNumberRegExp);\n      firstChar = matches?.[1];\n    } else {\n      const matches = (item as HTMLElement).innerText?.match(firstLetterRegExp);\n      firstChar = matches?.[2]?.toLocaleLowerCase();\n    }\n    if (\n      i >= startIndex &&\n      i <= endIndex &&\n      !newIndex &&\n      firstChar === key.toLowerCase()\n    ) {\n      newIndex = i;\n    }\n  });\n  return newIndex;\n};\n\nconst getMatchingElementIndex = (\n  key: string,\n  menuItems: NodeListOf<Element>,\n  index: number\n) => {\n  let newIndex: number | undefined;\n  newIndex = matchSection(key, menuItems, index + 1, menuItems.length - 1);\n  if (!newIndex) {\n    newIndex = matchSection(key, menuItems, 0, index - 1);\n  }\n  return newIndex;\n};\n\nconst menuItemsEvent = (\n  menu: HTMLElement,\n  config: SkipMenuConfigFull\n): HTMLElement => {\n  const menuItems = menu.querySelectorAll('[role=\"menuitem\"]');\n  menuItems.forEach((item, index) => {\n    (item as HTMLElement).tabIndex = -1;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    item.addEventListener('keydown', (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.stopImmediatePropagation();\n          e.preventDefault();\n          if (menuItems[index + 1]) {\n            (menuItems[index + 1] as HTMLElement).focus();\n          } else {\n            (menuItems[0] as HTMLElement).focus();\n          }\n          break;\n        case 'ArrowUp':\n          e.stopImmediatePropagation();\n          e.preventDefault();\n          if (menuItems[index - 1]) {\n            (menuItems[index - 1] as HTMLElement).focus();\n          } else {\n            (menuItems[menuItems.length - 1] as HTMLElement).focus();\n          }\n          break;\n        case 'Escape':\n          closeMenu(config);\n          break;\n        case 'Home':\n          (menuItems[0] as HTMLElement).focus();\n          break;\n        case 'End':\n          (menuItems[menuItems.length - 1] as HTMLElement).focus();\n          break;\n        default:\n          if (/^[a-zA-Z1-9]$/.test(e.key)) {\n            const newIndex = getMatchingElementIndex(e.key, menuItems, index);\n            if (newIndex !== undefined) {\n              (menuItems[newIndex] as HTMLElement).focus();\n            }\n          }\n      }\n    });\n  });\n  return menu;\n};\n\nexport const buildMenu = (config: SkipMenuConfigFull): HTMLElement | null => {\n  // build the actual menu\n  const menu = document.createElement('div');\n  menu.setAttribute('aria-live', 'off');\n  menu.setAttribute('role', 'menu');\n  menu.classList.add('pf-c-menu');\n  menu.id = config.menuId;\n\n  // attach the sections\n  const headerSection = config.headings\n    ? buildMenuSection(\n        document.querySelectorAll(config.headings),\n        config.text.headingsLabel,\n        `${config.id}_headings`,\n        config\n      )\n    : null;\n  const landmarkSection = config.landmarks\n    ? buildMenuSection(\n        document.querySelectorAll(config.landmarks),\n        config.text.landmarksLabel,\n        `${config.id}_landmarks`,\n        config\n      )\n    : null;\n\n  if (landmarkSection !== null) {\n    menu.appendChild(landmarkSection);\n  }\n\n  if (headerSection !== null) {\n    menu.appendChild(headerSection);\n  }\n\n  // attach the events\n  if (headerSection !== null || landmarkSection !== null) {\n    menuItemsEvent(menu, config);\n    return menu;\n  }\n  return null;\n};\n","/*\nTypes used as the only parameter for the SkipMenu object.\n\nSkipMenuConfig is the type for the parameter\nSkipMenuConfigFull is the type used by the private methods for SkipMenu \ndefaultConfig contains all the default value.\n\nIf adding/removing properties, be sure to add/remove from each the the three types below.\n\n*/\n\nexport type SkipMenuConfig = {\n  id?: string;\n  attachTo?: HTMLElement | null;\n  alwaysShow?: boolean; // This need to be changed to alwaysShow\n  buttonId?: string;\n  menuId?: string;\n  menuContainerId?: string;\n  headers?: string | false;\n  headings?: string | false;\n  tooltipId?: string;\n  landmarks?: string | false;\n  reloadOnChange?: boolean;\n  useAccessKey?: boolean;\n  accessKey?: string;\n  tabIndex?: number | null;\n  isRemoved?: boolean; // This is used internally and should not be called directly\n  ignoreClass?: string;\n  text?: {\n    buttonLabel?: string;\n    headingsLabel?: string;\n    landmarksLabel?: string;\n    tooltipLabel?: string;\n    controlKeyLabel?: string;\n    optionKeyLabel?: string;\n    altKeyLabel?: string;\n    shiftKeyLabel?: string;\n    mainLabel?: string;\n    searchLabel?: string;\n    navigationLabel?: string;\n    regionLabel?: string;\n    complementaryLabel?: string;\n    bannerLabel?: string;\n    footerLabel?: string;\n    sectionLabel?: string;\n    formLabel?: string;\n  };\n  ensureAbsoluteParent?: boolean;\n  theme?: 'bootstrap' | 'patternfly' | 'full' | undefined;\n};\n\n/* ***************** */\n\nexport type SkipMenuConfigFull = {\n  id: string;\n  attachTo: HTMLElement;\n  alwaysShow: boolean; // This need to be changed to alwaysShow\n  buttonId: string;\n  menuId: string;\n  menuContainerId: string;\n  mutationObserver: MutationObserver | null;\n  headers: string | false;\n  headings: string | false;\n  tooltipId: string;\n  landmarks: string | false;\n  reloadOnChange: boolean;\n  useAccessKey: boolean;\n  accessKey: string;\n  tabIndex: number | null;\n  isRemoved: boolean; // This is used internally and should not be called directly\n  ignoreClass: string;\n  text: {\n    buttonLabel: string;\n    headingsLabel: string;\n    landmarksLabel: string;\n    tooltipLabel: string;\n    controlKeyLabel: string;\n    optionKeyLabel: string;\n    altKeyLabel: string;\n    shiftKeyLabel: string;\n    mainLabel: string;\n    searchLabel: string;\n    navigationLabel: string;\n    regionLabel: string;\n    complementaryLabel: string;\n    bannerLabel: string;\n    footerLabel: string;\n    sectionLabel: string;\n    formLabel: string;\n  };\n  ensureAbsoluteParent?: boolean;\n};\n\n/* ***************** */\n\nexport const defaultConfig: SkipMenuConfigFull = {\n  id: 'skipMenu',\n  attachTo: document.getElementsByTagName('body')[0],\n  alwaysShow: true,\n  headings: 'h1, h2, h3, h4, h5, h6, [role=heading]',\n  landmarks:\n    'main, [role=main], [role=search], nav, [role=navigation], section, [role=region],  form, aside, [role=complementary], body > header, [role=banner], body > footer, [role=contentinfo]',\n  reloadOnChange: false,\n  useAccessKey: false,\n  accessKey: '0',\n  tabIndex: null,\n  isRemoved: false,\n  ignoreClass: 'skipMenu-ignore',\n  text: {\n    buttonLabel: 'Skip to content',\n    headingsLabel: 'Headings',\n    landmarksLabel: 'Landmarks',\n    tooltipLabel: 'Shortcut: ',\n    controlKeyLabel: 'Control',\n    optionKeyLabel: 'Option',\n    altKeyLabel: 'Alt',\n    shiftKeyLabel: 'Shift',\n    mainLabel: 'Main',\n    searchLabel: 'Search',\n    navigationLabel: 'Navigation',\n    regionLabel: 'Region',\n    complementaryLabel: 'Complementary',\n    bannerLabel: 'Banner',\n    footerLabel: 'Footer',\n    sectionLabel: 'Section',\n    formLabel: 'Form',\n  },\n  ensureAbsoluteParent: true,\n  buttonId: '',\n  menuId: '',\n  menuContainerId: '',\n  headers: '',\n  tooltipId: '',\n  mutationObserver: null,\n};\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { createskipMenuButton, closeMenu, openMenu } from './button';\nimport { buildMenu } from './menu';\nimport { addCloseMenuOnClick, addDomChangeListener } from './eventListeners';\nimport {\n  SkipMenuConfig,\n  SkipMenuConfigFull,\n  defaultConfig,\n} from './skipMenuTypes';\n\nexport type { SkipMenuConfigFull, SkipMenuConfig } from './skipMenuTypes';\nexport class SkipMenu {\n  config: SkipMenuConfigFull;\n\n  constructor(config: SkipMenuConfig) {\n    // @ts-ignore\n    this.config = { ...defaultConfig, ...config };\n\n    // This is to support deprecated headers configuration\n    if (config?.headers) {\n      this.config.headings = config.headers;\n    }\n\n    if (config?.text) {\n      this.config.text = { ...defaultConfig.text, ...config.text };\n    }\n    this.config.menuId = this.config.id + '_menu';\n    this.config.menuContainerId = this.config.menuId + '-container';\n    this.config.buttonId = this.config.id + '_button';\n    this.config.tooltipId = this.config.id + '_tooltip';\n\n    this.update = this.update.bind(this);\n    this.getConfig = this.getConfig.bind(this);\n  }\n\n  static version = 'VERSION CANNOT BE DETERMINED'; // Note - this is replaced on build\n\n  getConfig() {\n    return this.config;\n  }\n\n  init() {\n    // Load DOM change listener\n    addDomChangeListener(this.config, this.update, (obv) => {\n      this.config.mutationObserver = obv;\n    });\n\n    // Add listener to close menu\n    addCloseMenuOnClick(this.config);\n    this._add();\n  }\n\n  _add(): void | null {\n    // builds the skipMenu container\n    if (this.config.isRemoved) {\n      return null;\n    }\n    const skipMenu = document.createDocumentFragment();\n    const skipMenuWrapper = document.createElement('div');\n    skipMenu.appendChild(skipMenuWrapper);\n\n    skipMenuWrapper.id = this.config.id;\n    skipMenuWrapper.setAttribute('data-skip-menu', 'true');\n    if (!this.config.alwaysShow) {\n      skipMenuWrapper.classList.add('skipMenu-hidden');\n    }\n\n    // builds the button\n    const skipMenuButton = createskipMenuButton(this.config);\n    skipMenuWrapper.appendChild(skipMenuButton);\n\n    const menu = buildMenu(this.config);\n\n    if (menu === null) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'No landmarks or headings found  - skipmenu could not be built'\n      );\n      return;\n    }\n\n    const menuContainer = document.createElement('div');\n    menuContainer.id = this.config.menuContainerId;\n    menuContainer.classList.add('dropdown-menu');\n    menuContainer.style.display = 'none';\n\n    menuContainer.appendChild(menu);\n\n    // Append menu items and attach event listeners\n    skipMenuWrapper.appendChild(menuContainer);\n\n    const attachToStyles = window.getComputedStyle(this.config.attachTo);\n\n    if (\n      this.config.ensureAbsoluteParent &&\n      this.config.attachTo.tagName.toLocaleLowerCase() !== 'body' &&\n      !['sticky', 'absolute', 'fixed', 'relative', '-webkit-sticky'].some(\n        (style) => style === attachToStyles.getPropertyValue('position')\n      )\n    ) {\n      this.config.attachTo.style.position = 'relative';\n    }\n    this.config.attachTo.prepend(skipMenuWrapper);\n  }\n\n  update() {\n    const currentMenu = document.getElementById(this.config.menuId);\n    const updatedMenu = buildMenu(this.config);\n\n    if (currentMenu && updatedMenu && !currentMenu.isEqualNode(updatedMenu)) {\n      const focusedElement = document.activeElement;\n      currentMenu.setAttribute('aria-busy', 'true');\n      currentMenu.replaceWith(updatedMenu);\n      currentMenu.setAttribute('aria-busy', 'false');\n      updatedMenu.querySelectorAll('[role=\"menuitem\"]').forEach((item) => {\n        if (focusedElement && focusedElement.isEqualNode(item)) {\n          (item as HTMLElement).focus();\n        }\n      });\n    }\n    if (updatedMenu && !currentMenu) {\n      this._add();\n    }\n    if (!updatedMenu && currentMenu) {\n      this._remove();\n    }\n  }\n\n  open() {\n    openMenu(this.getConfig());\n  }\n\n  close() {\n    closeMenu(this.getConfig());\n  }\n\n  _remove() {\n    const skipMenu = document.getElementById(this.config.id);\n    if (skipMenu) {\n      skipMenu.remove();\n    }\n  }\n\n  remove() {\n    this.config.isRemoved = true;\n    this.config.mutationObserver?.disconnect();\n    this.config.mutationObserver = null;\n    this._remove();\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nwindow.SkipMenu = SkipMenu;\n","import { SkipMenuConfigFull } from './skipMenu';\nimport { closeMenu } from './button';\n\nexport const addCloseMenuOnClick = (config: SkipMenuConfigFull) => {\n  document.addEventListener('click', (e) => {\n    const menu = document.getElementById(config.menuContainerId);\n    if (menu) {\n      const isMenuOpen = menu.style.display !== 'none';\n      if (isMenuOpen && !(e.target as HTMLElement).closest(`#${config.id}`)) {\n        closeMenu(config);\n      }\n    }\n  });\n};\n\nexport const addDomChangeListener = (\n  config: SkipMenuConfigFull,\n  update: () => void,\n  setMutationObserver: (mutationObserver: MutationObserver) => void\n) => {\n  if (config.reloadOnChange) {\n    const obv = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (\n          !Array.from(mutation.removedNodes).some(\n            (removedNode) => (removedNode as HTMLElement).id === config.id\n          ) &&\n          !Array.from(mutation.addedNodes).some(\n            (addedNode) => (addedNode as HTMLElement).id === config.id\n          ) &&\n          !(mutation.target as HTMLElement).closest(`#${config.id}`) &&\n          mutation.attributeName !== 'tabindex' &&\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          //@ts-ignore\n          mutation.addedNodes[0]?.data !== '\\n\\n' &&\n          (mutation.target as HTMLElement).id !== config.id &&\n          (mutation.target as HTMLElement).id !== config.menuId\n        ) {\n          update();\n        }\n      });\n    });\n    setMutationObserver(obv);\n\n    obv.observe(document, {\n      attributes: true,\n      subtree: true,\n      childList: true,\n    });\n  }\n};\n"],"names":["isElementVisible","el","nodeType","parentElement","computedStyle","window","getComputedStyle","display","getPropertyValue","visibility","width","height","hidden","getAttribute","parentNode","openMenu","config","lastItem","menu","document","getElementById","menuContainerId","button","buttonId","style","setAttribute","items","querySelectorAll","length","focus","closeMenu","keepVisibleOnClose","removeAttribute","alwaysShow","id","classList","add","toolTipText","accessKey","startText","navigator","maxTouchPoints","msMaxTouchPoints","userAgent","toLowerCase","isMac","test","isOpera","fireFox","text","buildMenuItem","element","depth","listItem","createElement","listItemText","isHeader","landmark","tag","tagName","mainLabel","searchLabel","navigationLabel","regionLabel","complementaryLabel","bannerLabel","footerLabel","sectionLabel","formLabel","landMarkType","hasAttribute","elementId","innerText","trim","headerText","toLocaleLowerCase","getMenuItemText","contains","ignoreClass","span","className","depthWrapper","depthText","createTextNode","appendChild","textWrapper","targetElement","addEventListener","event","stopPropagation","preventDefault","e","key","shiftKey","menuButtonId","nextElement","focusableElements","buttonIndex","Array","from","findIndex","isEqualNode","buttonTabIndex","tabIndex","i","focusNextElement","addMenuItemEvents","buildMenuSection","elements","sectionTitle","sectionId","container","containerTitle","forEach","parseInt","substring","some","t","isFocusable","menuItem","matchSection","menuItems","startIndex","endIndex","newIndex","firstLetterRegExp","firstNumberRegExp","item","firstChar","matches","match","buildMenu","menuId","headerSection","headings","headingsLabel","landmarkSection","landmarks","landmarksLabel","index","stopImmediatePropagation","getMatchingElementIndex","undefined","menuItemsEvent","defaultConfig","attachTo","getElementsByTagName","reloadOnChange","useAccessKey","isRemoved","buttonLabel","tooltipLabel","controlKeyLabel","optionKeyLabel","altKeyLabel","shiftKeyLabel","ensureAbsoluteParent","headers","tooltipId","mutationObserver","this","update","bind","getConfig","init","setMutationObserver","obv","MutationObserver","mutations","mutation","removedNodes","removedNode","addedNodes","addedNode","target","closest","attributeName","data","observe","attributes","subtree","childList","addDomChangeListener","_add","skipMenu","createDocumentFragment","skipMenuWrapper","skipMenuButton","buttonWrapper","textContent","pfDropdownArrow","toggleMenu","remove","tooltip","tooltipArrow","tooltipInner","toolTip","createskipMenuButton","menuContainer","attachToStyles","position","prepend","console","warn","currentMenu","updatedMenu","activeElement","replaceWith","_remove","open","close","disconnect","version","SkipMenu"],"sourceRoot":""}